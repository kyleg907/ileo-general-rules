<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>2&nbsp; Rules – ILEO General Competition Rules</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./terms.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-48fb113fea7c09ade55c8c495d57f66a.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./rules.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Rules</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">ILEO General Competition Rules</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rules.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Rules</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./terms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Terms</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./legal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Legal/Copyright</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#eligible-lego-robot-kits-and-parts" id="toc-eligible-lego-robot-kits-and-parts" class="nav-link active" data-scroll-target="#eligible-lego-robot-kits-and-parts"><span class="header-section-number">2.1</span> Eligible LEGO® robot kits and parts</a></li>
  <li><a href="#divisions" id="toc-divisions" class="nav-link" data-scroll-target="#divisions"><span class="header-section-number">2.2</span> Divisions</a></li>
  <li><a href="#robots" id="toc-robots" class="nav-link" data-scroll-target="#robots"><span class="header-section-number">2.3</span> Robots</a></li>
  <li><a href="#arenas-and-project-materials" id="toc-arenas-and-project-materials" class="nav-link" data-scroll-target="#arenas-and-project-materials"><span class="header-section-number">2.4</span> Arenas and Project Materials</a></li>
  <li><a href="#competition-requirements" id="toc-competition-requirements" class="nav-link" data-scroll-target="#competition-requirements"><span class="header-section-number">2.5</span> Competition requirements</a></li>
  <li><a href="#judging" id="toc-judging" class="nav-link" data-scroll-target="#judging"><span class="header-section-number">2.6</span> Judging</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Rules</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<!-- markdownlint-disable no-inline-html first-line-h1 -->
<!-- Quarto's best option table cells with multi-line content is HTML.
     But the {=html} wrapper defeats markdown syntax highlighting in VSCode.
     Using HTML document and including them is a kludge to make authoring
     easier. -->
<!-- The general order of these rules should generally follow the flow of the program,
in-class, working on final projects, getting to the competition, competing -->
<section id="eligible-lego-robot-kits-and-parts" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="eligible-lego-robot-kits-and-parts"><span class="header-section-number">2.1</span> Eligible LEGO® robot kits and parts</h2>
<table class="caption-top table" data-quarto-postprocess="true">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Rule</th>
<th class="why" data-quarto-table-cell-role="th">Notes/Why</th>
<th data-quarto-table-cell-role="th">ID</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td class="rule"><p>A team's solution to the final project may only use the LEGO® parts from one LEGO Robotics kit. The kits typically in use in the ILEO program:</p>
<ul>
<li>LEGO® MINDSTORMS® NXT Education #9797 (any of the 3 revisions)</li>
<li>LEGO® MINDSTORMS® EV3 Education #45544</li>
<li>LEGO® Education SPIKE™ Prime #45678</li>
</ul>
<p>Other variations of these kits, and LEGO robot generations exist. The home/retail versions we generally allow. We may limit certain parts in those kits to avoid giving an unfair advantage. You may add parts to bring retail kits in line with the education kits.</p>
<p>For details, see the 'Kit Compatibility Statement.pdf' in the 'Tips, tools, and hints' folder. In it we explain the differences between the kits and what we will and will not allow at the final competition. It will also explain rules for parts swaps allowed between kits. The document is in the ILEO box folder.</p>
<p>No other non_LEGO style/brand of robot is eligible for competition in our program.</p></td>
<td class="why"><p>Students might compete against students with different kits. Minimizing those differences keeps competition fair.</p>
<p>Standard kits control costs so the schools.</p>
<p>The education version of the kit is the gold standard. Some schools have purchased the retail version of the kits in the past. Such kits are legal at the competition, with the restrictions listed in the document.</p>
<p><!-- vale alex.Condescending["easily"] = NO --> Coaches, replace lost or broken parts in the kits. Ideally all LEGO robotic kits given to the students are complete as if new at the beginning of the season. Get parts from the LEGO group, other sources, or take them from unused kits. Its often useful to select a "parts" kit you can raid, but you'll quickly run out of certain parts.</p>
<p>Mentors may remove easily lost (e.g. small gears), expensive to replace, or distracting (tank treads, rubber bands) parts. Please make those materials available to teams upon request if they have a legitimate need for their project.</p></td>
<td class="rule-id">KIT-01</td>
</tr>
<tr class="even">
<td class="rule"><p>Only parts with a LEGO Group part number designed to connect to standard LEGO bricks or LEGO TECHNIC™ parts (including the wire and battery cover) are valid for use. Parts not meant to connect to the robot (bins, lids, sticker sheets, and manuals), are NOT valid for use. <!-- vale alex.Condescending["easily"] = YES --></p>
<p>Said another way, components in the box which are not LEGO pieces are NOT allowed as part of the team's solution. The intelligent brick, sensors, and wires ARE LEGO parts. If there is any question contact the core team ASAP. You may ask a judge at the competition, but that might be too late to correct any issue.</p></td>
<td class="why">Creative uses of these parts may be an advantage, disruptive to the competition, or damaging to reusable things in the kit.</td>
<td class="rule-id">PARTS-01</td>
</tr>
<tr class="odd">
<td class="rule"><!-- vale write-good.TooWordy["modify"] = NO -->
<p><em>Do not modify or damage</em> parts of the kit in preparing your project for competition, or for other in-class activities.</p>
<!-- vale write-good.TooWordy["modify"] = YES --></td>
<td class="why">Avoid damage to reusable parts of kits for use by future students. Avoid advantage given by non-LEGO parts.</td>
<td class="rule-id">PARTS-02</td>
</tr>
</tbody>
</table>
</section>
<section id="divisions" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="divisions"><span class="header-section-number">2.2</span> Divisions</h2>
<table class="caption-top table" data-quarto-postprocess="true">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Rule</th>
<th data-quarto-table-cell-role="th">Notes/Why</th>
<th data-quarto-table-cell-role="th">ID</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td class="rule"><p>ILEO has 3 divisions, based on age or skill level of students:</p>
<dl>
<dt>Beginner</dt>
<dd>
<p>Open to elementary and middle school students. We strongly encourage students who have participated in the program in the past move from beginner to standard.</p>
<p>This is not a strict rule. Use your best judgement, and (if possible) consult with a teacher who knows the students well. In some cases younger students or students with limited experience with engineering concepts may be better served by a second year in the beginner division.</p>
</dd>
<dt>Standard</dt>
<dd>
Open to elementary and middle school students.
</dd>
<dt>Advanced</dt>
<dd>
Primarily for high school students. High school students may not join beginner nor standard. Open to other students based on ability.
<ul>
<li>Advanced is hard. If your students have not been in the ILEO program before, we do not recommend placing them in the Advanced division unless they are familiar with the LEGO® MINDSTORMS® platform and have solid problem-solving skills.</li>
<li>If you are not sure, but the students really want to try, have them do the Advanced challenge projects that lead up to the final project. If they do well there, they will likely be OK with the long-term projects.</li>
</ul>
</dd>
</dl></td>
<td class="why"><p>We'd like the competition to be even. The number and size of divisions affects the materials the ILEO core team needs to prepare for the competition. It also affects the complexity and timeliness of scoring for the competition.</p></td>
<td class="rule-id">DIV-01</td>
</tr>
<tr class="even">
<td class="rule"><p>We expect teachers/mentors/classes to familiarize students with the concepts in the ILEO curriculum documents in the ILEO box folder. Admittedly giving the documents to young students won't work due to the reading level and the amount of reading intended for middle school and high school students.</p>
<p>You have flexibility in how to present these materials, especially for younger students. Though typically classes work directly from the documents. We also do not expect you to finish the documents, but you should finish material that covers all sensors, or at least the sensors needed for the final project.</p></td>
<td class="why"><p>The curriculum has the building blocks students will need in preparing their solutions to the final project, this year and beyond. We also hope to teach the students about engineering as a discipline and career.</p></td>
<td class="rule-id">CURR-01</td>
</tr>
</tbody>
</table>
</section>
<section id="robots" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="robots"><span class="header-section-number">2.3</span> Robots</h2>
<table class="caption-top table" data-quarto-postprocess="true">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Rule</th>
<th data-quarto-table-cell-role="th">Notes/Why</th>
<th data-quarto-table-cell-role="th">ID</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td class="rule aaaron"><p>All robots/programs must run autonomously. That is, once you start the program, the robot must complete the task on its own without any human intervention. Touching the robot after the program has started ends the run. Certain kinds of interference or project rules might disqualify the run.</p>
<p>For example, you may not maintain a Bluetooth or other connection (long stick) to communicate or influence the robot.</p>
<p>Similarly, attempting to guide the robot through human interaction with a sensor such as the ultrasonic sensor, the light sensor, or the sound sensor after the program has started is not allowed. An example of this behavior would be waving your hand over an upward pointing ultrasonic sensor to cause the robot to turn left.</p></td>
<td class="why"><p><!-- vale alex.Condescending["easy"] = NO --> Such interaction makes the project too easy to solve. We want everyone to face the same challenges and make the competition fair. We want to encourage creative builds and programming solutions.</p>
<!-- vale alex.Condescending["easy"] = YES --></td>
<td class="rule-id">AUTO-01</td>
</tr>
<tr class="even">
<td class="rule"><p>Start your program on the robot using buttons or sensors on the robot. At the competition, we (Do NOT have them use the sound sensor for this purpose due to the background noise level at the competition. )</p>
<p>Any run started through other means, the judge will disqualify the run.</p>
<p>Mentors, ensure your students are aware of this and ensure they practice the technique before the final competition.</p></td>
<td class="why"><p>Related to rule <span class="rule-ref">AUTO-01</span> about autonomous robots. Also, we're uncertain about interference that many Bluetooth connections might cause. It also makes it clearer to the judge when to start timing your run.</p>
<p>Students in class likely download the program to the robot and start the program with a single button click in the current LEGO software. Students get used to this convenient interaction in class (especially with the Bluetooth connections). <!-- vale write-good.TooWordy["previously"] = NO --> As such, they might not know how to start a previously downloaded program using controls on the Intelligent brick (the ILEO curriculum does cover this).</p>
<!-- vale write-good.TooWordy["previously"] = YES --></td>
<td class="rule-id">START-01</td>
</tr>
<tr class="odd">
<td class="rule"><p>No person may interfere with the robots of the teams they are competing against. This includes families, guests, etc that are viewing the competition and have an interest in the results.</p></td>
<td class="why"><p>Fairness. Action taken against the offending team will be up to the discretion of the judges.</p></td>
<td class="rule-id">AUTO-02</td>
</tr>
<tr class="even">
<td class="rule"><p>If a robot interferes with a robot in another arena by accident in the long=term competition, the judge may give the affected team(s) another run. For short-term, this depends on the specific project: two robots operating near each other is more common.</p></td>
<td class="why"><p>To save floor space and materials, we generally place 2 arenas together. One 4 foot by 8 foot arena typically hosts two teams doing judged runs at the same time. We try to design projects to prevent/reduce interference between robots. But robot designs, or a malfunctioning robot that can reach over the 2×4 walls could interfere.</p></td>
<td class="rule-id">AUTO-03</td>
</tr>
<tr class="odd">
<td class="rule"><p>Before a run starts, the robot must fit in the bounds of an 8 1/2 inch by 11 inch (US Letter) piece of paper when viewed from above. The wires that connect motors and sensors may go beyond the boundaries as tying them down is difficult and may damage the wires. The wires must still fit in the bounds when you gently press/squish the wires inward toward the robot.</p>
<p>Consult the project writeup as it specify different dimensions, or remove this rule.</p>
<p>If the robot does not fit at the competition, the team must change the robot to fit to attempt a run. This time counts against the available time to perform scored runs with the robot. But really the team must size the robot correctly before arriving at the competition.</p>
<p>Once the robot's program starts, the robot may unfold or transform by itself. The robot may then become larger than the stated dimensions (autonomously per <span class="rule-ref">AUTO-01</span>).</p></td>
<td class="why"><!-- vale alex.Condescending["easy"] = NO -->
<p>Some of our projects are too easy to solve with a large or wide robot. Unfolding adds a challenge in build in programming to be fair to students with other solutions.</p>
<!-- vale alex.Condescending["easy"] = YES --></td>
<td class="rule-id">SIZE-01</td>
</tr>
<tr class="even">
<td class="rule"><p>Rules related to robot position ignore LEGO® parts not attached to the body of the robot (e.g. parts that fall off due to contact with anything on the arena or were loose to begin with).</p></td>
<td class="why"><p>Sometimes the end position of a robot in a project is significant. Parts that were part of the robot, are no longer part of the robot.</p></td>
<td class="rule-id"></td>
</tr>
<tr class="odd">
<td class="rule"><p>If a project does not include a wall around the arena (typically made of 2×4s ), the robot may leave the arena and return to it during a run. It should not go more than about one foot from the arena.</p>
<p>Judges determine if your robot has moved too far from the arena and may disqualify the run. If your solution does this, warn the judge as you arrive at your arena (before you attempt any runs) so they can prepare the ground, ask people to move, etc.</p>
<p>If a project has a wall, we do not want robots leaving the arena area enclosed, unless explicitly allowed by the project. No part of the robot may extend or move more than 1/2 inch over the top of the wall when viewed from above</p>
<p>If the robot violates this rule the run will end immediately.</p></td>
<td class="why"><p>At times during the competition there may be people, judges or other materials around the arena. We'd like to allow creative solutions that leave the arena, but we need to limit chaos and interference that results. A robot out of control or purposely driving away might look the same to a judge.</p>
<p>At the competition, we try to conserve materials and floor space. When a project has walls, another arena surface and another team might compete on the other side. We do not want teams competing near each other, or observers, to interfere with the teams' runs.</p>
<p>The surface of the competition is generally like a gym floor, but it might be inconsistent when compared to our whiteboard arenas. The competition floor is likely different than the floor you practice with. That could affect the behavior of your robot.</p>
<p>Also, our arena surfaces typically have a 1/8 inch drop to the floor. Students should be familiar with that, assuming the class uses our standard arena materials. Your robot will need to traverse that. This could be a problem for robots with a "plow" that scrapes the surface or otherwise has low-hanging parts.</p></td>
<td class="rule-id">AUTO-04</td>
</tr>
</tbody>
</table>
</section>
<section id="arenas-and-project-materials" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="arenas-and-project-materials"><span class="header-section-number">2.4</span> Arenas and Project Materials</h2>
<table class="caption-top table" data-quarto-postprocess="true">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Rule</th>
<th data-quarto-table-cell-role="th">Notes/Why</th>
<th data-quarto-table-cell-role="th">ID</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td class="rule aaron"><p>The arenas that we use at the final competition are not (for the most part) new. They often have faint pencil marks or other minor blemishes from previous competitions. The arena walls are not perfectly smooth (the lumber may contain knots).</p>
<p>We do avoid using any arena which has blemishes that would interfere with the solution to the project. Students should be tolerant of slight blemishes on the surface like light pencil marks. Most robots have no problem tolerating these, but if your students have tolerances so tight that light pencil marks interfere with the functioning of the robot, we ask that you encourage them to loosen their tolerances.</p></td>
<td class="why">We reuse materials for cost reasons (as we encourage schools to do). This is not to say the arenas at the competition are poor quality, just that they're not perfect/new. Note that the arenas at the competition are not exactly the same as the ones you used in class.</td>
<td class="rule-id"></td>
</tr>
<tr class="even">
<td class="rule"><p>No one may not touch arena materials during a run.</p>
<p>No one may interfere with the arena or arena materials during a run. Examples of interference include (but are not limited to):</p>
<ul>
<li>Blowing on a ping-pong ball to change its trajectory</li>
<li>Using a stick made of LEGO® parts to knock over a peg</li>
<li>Kicking the arena to cause pegs to fall over or ping-pong balls to move</li>
</ul>
<p>Any such interaction will typically disqualify the run immediately.</p></td>
<td class="why"><p>Stopping a ball from rolling, removing an item could make the robot's job easier, or give an unfair scoring advantage to a team.</p></td>
<td class="rule-id"></td>
</tr>
<tr class="odd">
<td class="rule"><p>Participants may not damage project materials or arenas on purpose. Do not build or code robots to damage materials.If the judge determines that the robot has damaged a material on purpose the run will be immediately disqualified.</p>
<p>An example of disallowed behavior would be programming a robot to crush a ping-pong ball to prevent it from rolling or to make it fit into a smaller space.</p></td>
<td class="why">We need to reuse parts for all teams, and not interrupt the competition flow and finish on time.</td>
<td class="rule-id">DMG-01</td>
</tr>
<tr class="even">
<td class="rule"><p>"Knocked over" in the context of an item like a PVC peg or domino might not be clear in certain situations. This is easy if the peg is on its side, on the arena surface, or on the floor off of the arena surface. The item could catch on a wall, robot, or other materials in the arena.</p>
<p>An object (e.g. PVC peg or domino) is "knocked over" if the item is resting horizontally on a surface, or if the judge determines that the item would come to rest horizontally on a surface if all other objects (including the robot, obstacles, and walls) were not present. For example, a PVC peg leaning on the robot at the end of a run is "knocked over".</p></td>
<td class="why">This makes projects easier to solve, so we want everyone to face the same challenges and make the competition fair. We want to encourage creative builds and programming solutions.</td>
<td class="rule-id"></td>
</tr>
<tr class="odd">
<td class="rule">Objects might still be moving after the team has declared a stop to their run. Judges will not score the run until the objects either stop, or come to some state where the scoring is less ambiguous, at the judge's discretion.</td>
<td class="why"><p>Judges might not be able to catch the state of all the scored objects at exactly the time the students stop the run. We don't have "instant replay". The judge also must pay attention to the trial time and stop the stopwatch.</p>
<p><!-- vale alex.Condescending["easily"] = NO --> Students, consider the state of objects at the end of a run when creating your strategy. For example, ping-pong balls with too much momentum can easily leave a scoring area before coming to rest.</p>
<!-- vale alex.Condescending["easily"] = YES --></td>
<td class="rule-id"></td>
</tr>
<tr class="even">
<td class="rule"><p>Locations of objects on the arena are specifically chosen/assigned by the ILEO core team. Some projects under-specify the location to give us more options at the competition or to make the project more challenging. Judges will know and enforce the positions of the objects.</p>
<p>No person may move items on the arena from the assigned position before the team starts their run. Once the robot starts, it may move anything on the arena not fastened down (and as not to cause damage as in DMG-01). Scoring rules in the project will tell you what you should or should not move.</p>
<p>Some projects may allow students to pick the starting position for the robot. If your chosen/ideal starting position overlaps with an object, you must choose another starting position. You may not move objects to make room for the robot. If you moved any objects before placing your robot the judge will return the objects to their original positions.</p></td>
<td class="why">Might give teams an advantage. We want teams to be solving similar problems.</td>
<td class="rule-id"></td>
</tr>
</tbody>
</table>
</section>
<section id="competition-requirements" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="competition-requirements"><span class="header-section-number">2.5</span> Competition requirements</h2>
<p>Requirements before you compete. Materials your team must bring.</p>
<table class="aaron caption-top table" data-quarto-postprocess="true">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Rule</th>
<th data-quarto-table-cell-role="th">Notes/Why</th>
<th data-quarto-table-cell-role="th">ID</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td class="rule"><p>Return your signed release forms at the competition when you sign in! You may return forms any time up to the start of judging. <em>students participating in the competition must submit a signed release form.</em></p>
<p>Also Note: Rochester Public Education is a co-sponsor of the final competition, which is why their name appears next to IBM's name on the release form. All students, whether they are from a school in the Rochester Public Education system or not, need to submit a signed release form.</p>
<p>The invited local media may be taking photographs or video at the event, sharing the story on TV, online or in print. Regular participants may also do the same. We encourage this to grow awareness of our program and encourage students to join and others to volunteer via these materials.</p>
<p>If you cannot appear in such materials, do not attend the competition. Other members of your team should present your solution to the judges.</p></td>
<td class="why"><p>Checking with every student for permission during the event is not realistic. Those taking photographs may be unaware of the issue.</p>
<p>Participants confused about the "Rochester Public Education" verbiage on the form did not submit the required forms in the past.</p></td>
<td class="rule-id">PHOTO-01</td>
</tr>
<tr class="even">
<td class="rule"><p>Sometimes students feel that their solution isn't good enough and they do not want to compete as a result. Students can get hung up on results or winning. Please discourage that and try to get them to compete. If that doesn't work, encourage the students to attend so they can at least see other student's solutions and see how the competition works. If they will not compete, please inform the core team as early as possible before the competition so we can adjust match plans. TODO I mention someplace winning isn't the important thing</p></td>
<td class="why"><p>Attending the competition, even if not competition, can be instructive. Its hard to explain to the students what its all about, they need to experience it for themselves. We hope these students will return next year and be better prepared.</p></td>
<td class="rule-id"></td>
</tr>
<tr class="odd">
<td class="rule">If you are planning on bringing a practice arena to the final competition, do not transport the arena on a school bus. You may get a ticket for unsecured cargo. You may also have to make other hasty arrangements to get your materials legally to the venue.</td>
<td class="why">This has actually happened to a school in the ILEO program.</td>
<td class="rule-id">MAT-01</td>
</tr>
<tr class="even">
<td class="rule"><p>Participants in the Advanced final project must place their robots in the designated garage area. Please do this once you've located your seating area and have unpacked your robot. Your robot must be in the garage when judging starts.</p>
<p>After competing, you may take your robot back to your table. You'll need it for the short-term round of the competition.</p></td>
<td class="why"><p>Some advanced arena layouts are not revealed until the final competition. We don't want teams to adjust their robot build or program once they've seen the final layout.</p>
<p><!-- value alex.ProfanityUnlikely["color"] = OFF --> We expect Advanced students to be ready to compete when they arrive. At most they should need to check light levels if they are making use of a light or color sensor: you must complete this before the start of judging.</p>
<!-- value alex.ProfanityUnlikely["color"] = ON --></td>
<td class="rule-id"></td>
</tr>
<tr class="odd">
<td class="rule"><p>Please remember that we do not allow programming of robots during the long-term competition. We expect the long-term projects to be complete when you arrive at the competition venue.</p>
<p>We ask that students check light levels and make any necessary last-minute adjustments to their robot before the competition begins. The final version of their program is ready to go on the robot, preferably before arriving at the venue.</p>
<p>We require "laptops closed" at competition start. If a team is programming after competition begins, the team may present their solution to the judge as scheduled, but they may not place in the competition results.</p>
<p>The exception to this is the short-term part of the competition, where students might need to change their long-term program, or write an alternative program and compete again.</p></td>
<td class="why">Participants that compete later would have an unfair time advantage to complete or tweak their work.</td>
<td class="rule-id">DONE-01</td>
</tr>
<tr class="even">
<td class="rule"><p>IBM will supply a small number of "practice" arenas at the final competition. These arenas primarily allow students to verify their robot can sense tape with the light levels available in the competition venue. They are not guaranteed to have the correct layout as the competition arenas.</p>
<p>To improve accessibility we sometimes allow students to test using the competition arenas. The project description will describe this. TODO Is that a new convention we want to follow?</p>
<p>Whether testing on a competition arena or a practice arena, we encourage students to be courteous and share with other teams. There are a lot of teams that need to verify that their robots work under the conditions at the venue. Do not expect to be able to perform an entire run of your project solution on a practice or competition arena.</p></td>
<td class="why"><p>As mentioned in <span class="rule-ref">DONE-01</span>, we expect student solutions finalized before arriving at the venue. Students should only need to verify that the light settings in their program will function under the conditions at the venue.</p></td>
<td class="rule-id"></td>
</tr>
<tr class="odd">
<td class="rule aaron">Not a rule, but a best practice/reminder. Have your students make sure that their robots are fully charged on the day of the competition. Also have them make sure that they have the final version of their program loaded on the robot.</td>
<td class="why"><p>Would be unfortunate if a team could not compete to its potential due to a lack of battery power or a missing or incorrect program.</p>
<p>Almost every year we have at least one team that does not have the correct program loaded on their robot when they compete, resulting in a worse than expected performance.</p></td>
<td class="rule-id"></td>
</tr>
<tr class="even">
<td class="rule">Remind students to be careful with their robots! We have had students drop their robot on the way to the arena for judging. The competition runs on a tight schedule, and we do not have extra slots to allow a team to compete outside of their assigned time. Reassembling damaged robots counts against the team's available competition time. Judges will not pause stop watches while students repair their robots.</td>
<td class="why">Can ruin a student's experience.</td>
<td class="rule-id"></td>
</tr>
<tr class="odd">
<td class="rule">Remind your students to watch the power cables! We have cables running under all the tables to provide power to laptops and kits. These cables connect together in series. Every year someone will trip on a cable and accidentally unplug other table, without realizing it. If you suddenly lose power, do a quick check to see if your extension cord has become unplugged. Many of the laptops loaned out by IBM have unreliable batteries, so this can be a big problem if it happens during the short-term competition prep time.</td>
<td class="why">Unplugging power is disruptive to the teams.</td>
<td class="rule-id"></td>
</tr>
<tr class="even">
<td class="rule"><p>We ask that you be respectful of the staff and keep the venue as clean as possible. Encourage your students to be courteous. We are going to have a large number of students in the Field House, and we want to keep this a positive experience for everybody.</p>
<p>Relatives/guests are welcome to attend and observe the competition, we only ask that they give room to the competing teams and to judges when spectating. A fence separates the competition area from the rest of the venue. We ask that only competing teams (or teams that are about to compete) and their coaches be in the competition area. Relatives may come into the competition area to take photographs, but we ask that they maintain a respectful distance so as not to interfere with the competition.</p></td>
<td class="why">Ensure a good experience for all attending the competition.</td>
<td class="rule-id"></td>
</tr>
<tr class="odd">
<td class="rule"><p>Students and mentors must understand the full rules of a project and this document. Reach out to the ILEO core team is anything is unclear well before the competition to answer any questions, or for a ruling in case other schools/teams have the same questions. Judges and the ILEO core team have the ultimate say in interpreting the rules or handling unexpected situations at the competition.</p></td>
<td class="why"><p>We expect students to read and understand the rules of the project and the final competition. Students should ask a mentor for help if anything is unclear. Mentors should reach out to the ILEO core team if anything is unclear to them. We also expect mentors to inform students if they are breaking a rule while practicing in class.</p>
<p>We try to make rules as clear and unambiguous as we can. Unfortunately, we don't always catch every possible corner case or potential point of confusion. If you feel that you have to interpret a rule, or if you believe you have discovered an unintended "loophole", please contact the ILEO core team to verify your interpretation as soon as possible. If you fail to do so, the ruling of the judge or core team could disappoint your team. We want to avoid such situations for the students.</p>
<p>Sometimes we want you to read between the lines and use that leeway to invent clever solutions. TODO discuss unintended vs intended loopholes</p></td>
<td class="rule-id"></td>
</tr>
<tr class="even">
<td class="rule"><p>Not a rule, but a best practice. Mentors, consider having a mock competition in one of the regular sessions just before the final competition. Mentors will judge the students as though they are competing in the final competition, and can use that opportunity to point out any mistakes the students have made or things they might have forgotten about competing at the final competition. We have found that students often get focused on their solution to the project and can forget rules that they read weeks ago when they started working on the project.</p>
<p>We also recommend practicing for short term using a timed, 45-minute project . This should make them understand how short 45 minutes really is, help them understand the pressure, and help them identify any teamwork issues in such a situation.</p>
<p>Mentors, you might even ask students that have participated in the past to share their experience with the rest of the class.</p></td>
<td class="why"><p>Help students prepare for the event.</p></td>
<td class="rule-id"></td>
</tr>
<tr class="odd">
<td class="rule"><p>IBMers: Please consider wearing an IBM shirt at the final competition.</p>
<p>Mentors/teachers consider the same for any other organizations that support your program.</p></td>
<td class="why">Show your company pride! Networking. Good for photos.</td>
<td class="rule-id"></td>
</tr>
<tr class="even">
<td class="rule"><p>The venue has limited wifi access. Its not guaranteed to work with the number of devices at the competition. Groups that use the web-based programming app (SPIKE™ Prime) should consider brining their own reliable wifi hotspot, or switch to an installed app. This will depend on the school/organization information technology policies, and on the devices available to the students.</p></td>
<td class="why"></td>
<td class="rule-id"></td>
</tr>
</tbody>
</table>
</section>
<section id="judging" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="judging"><span class="header-section-number">2.6</span> Judging</h2>
<table class="caption-top table" data-quarto-postprocess="true">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Rule</th>
<th data-quarto-table-cell-role="th">Notes/Why</th>
<th data-quarto-table-cell-role="th">ID</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td class="rule"><p>Ways a run (i.e. your robot's attempt to solve the project problem)can end:</p>
<ol>
<li>An end condition defined in the project description.</li>
<li>"immediately" due to a rules violation.</li>
<li>"disqualified" due to a rules violation.</li>
</ol>
<p>For 1 or 2 the judge records the score for the run. For a disqualified run, the score for the run is not recorded. If a team has no scored runs (i.e. all disqualified), their final score recorded is the worst possible score (e.g. zero) and worst tiebreaker value (e.g. time).</p></td>
<td class="why"></td>
<td class="rule-id"></td>
</tr>
<tr class="even">
<td class="rule"><p>Judges have final say on the recorded scores and times.</p>
<p>We encourage teams to verify the score recorded by the judge matches expectations, and you are free to point out any missed points that you feel you are due . We all make mistakes, and the judge might overlook something, made a mistake in counting or was briefly distracted by other parts of you run. If the judge disagrees, their word is final. Any further discussion will just eat into your competition time, and we must cut the discussion short when your time slot is over.</p></td>
<td class="why">Due to the number of students at the competition and the number of tasks the judges and core team are performing, we don't have the time to fully resolve all objections. We do trust our judges to be fair and make a few mistakes as possible.</td>
<td class="rule-id"></td>
</tr>
<tr class="odd">
<td class="rule"><p>Students must bring their team name slip from the packet distributed on check-in to the competition. Mentors must pass these out and remind students to bring them.</p></td>
<td class="why"><p>For certain projects (typically short-term brackets) the judge will give the team a match results slip that indicates where and when the students will compete next.</p></td>
<td class="rule-id"></td>
</tr>
<tr class="even">
<td class="rule"><p>Certain projects (typically short-term) the judge will give the team a slip that indicates the students will compete.</p></td>
<td class="why"></td>
<td class="rule-id"></td>
</tr>
<tr class="odd">
<td class="rule"><p>Judges would appreciate student help in resetting arenas for the next run, and collecting items that leave the arena space (e.g. collecting ping pong balls that rolled or bouned out) Students must wait for permission from the judge first. Follow the project rules while resetting the arena. The judge may hold the next run until a judge or student correct any issues.</p></td>
<td class="why"><!-- vale write-good.Weasel["fairly"] = NO -->
<p>This speeds up the reset time, possibly giving students more time to perform their runs. We must also ensure the reset is correct for the project rules. Also, the judge needs a few moments to correctly score the run before the arena is reset and the next run can start.</p>
<!-- vale write-good.Weasel["fairly"] = YES --></td>
<td class="rule-id"></td>
</tr>
<tr class="even">
<td class="rule"><p>During a run, a robot might malfunction or parts may otherwise disconnect. After judges score the run, but before the next run begins, students may reassemble the robot. Time will continue running for timed projects. For non-timed projects, we expect reassembly in a timely manner.</p></td>
<td class="why"><p>Teams can't be successful on the next run with a broken robot, but we need to balance the time involved to keep the competition as a whole moving.</p></td>
<td class="rule-id"></td>
</tr>
<tr class="odd">
<td class="rule"><p>Rules related to interaction/removal of arena obstacles ignore LEGO® parts not attached to the body of the robot (e.g. parts that fall off due to contact with anything on the arena or were loose to begin with). These parts become obstacles your robot might encounter and must deal with. In a project where you score points for removing items from the arena, you will not get points for clearing those LEGO parts. Only the materials described in the project count for scoring.</p></td>
<td class="why"><p>Sometimes the end position of a robot in a project is significant. Parts that were part of the robot, are no longer part of the robot.</p></td>
<td class="rule-id"></td>
</tr>
<tr class="even">
<td class="rule"><p>Do not bring Laptops, tablets, phones, or other programming devices to the competition arenas, or keep them closed, in a bag or in your pocket. Students may not change their programs while competing.</p>
<p>Teams competing may use a device to take photos, but must present it to a judge to confirm the device is not in robot programming mode (e.g. bluetooth off, no other apps running)</p>
<p>TODO revisit this as a group</p></td>
<td class="why"><p>Students may encounter things they didn't expect. The time it takes to change the program, and test the robot will likely take too much time.</p>
<p>For certain projects, knowledge of the arena layout at the project could give student and advantage (typically for the Advanced division).</p>
<p>Remote controlling robots is possible using wireless connections. Minimizing the possibility that the robot is being remotely controlled helps judges as they are busy with scoring and catching this is difficult.</p>
<p>A team once brought their tablet to the arena and the judge observed them interacting with the tablet right before the robot stopped. The team did stop the program via the tablet, which stopped the robot. In their defense, this rule was less clear at the time.</p>
<p>Someone standing outside (possibly far outsize) the competition area could wirelessly control the robot. This is also forbidden, since it breaks the autonomy rule, <span class="rule-ref">AUTO-01</span>.</p></td>
<td class="rule-id"></td>
</tr>
<tr class="odd">
<td class="rule"><p>Judges can provide students information on their final score, but only the scoring official has complete results on the day of the competition. ILEO does not make the full list of results publicly available. After the competition schools may request placement information for their teams.</p>
<p>The ILEO core team can only provide placement information for non-bracket challenges. If a team participated in a bracket challenge they can get an idea of how well they did by the number of rounds they were able to progress in the bracket at the event.</p></td>
<td class="why"><p>Although we want to recognize teams which performed well at the competition, we do not want to discourage teams that did not. The latter is why we do not distribute the full rankings.</p>
<p>We collect bracket-based scores live at the event. We do not log full bracket details like other project in the interest of time and to allow the scoring official to perform other duties.</p></td>
<td class="rule-id"></td>
</tr>
<tr class="even">
<td class="rule">A judge's coin flip will resolve any scoring ties not resolved by tiebreaker(s) described in the project rules. The core team will have coins available at the scoring official area.</td>
<td class="why">We need something fair and quick to resolve the situation and keep the competition moving.</td>
<td class="rule-id"></td>
</tr>
</tbody>
</table>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/ibm\.ent\.box\.com\/ILEO-Project");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link" aria-label="Introduction">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./terms.html" class="pagination-link" aria-label="Terms">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Terms</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>